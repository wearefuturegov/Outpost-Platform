{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-0417de3ad746c4ce.js","node_modules/mermaid/dist/edges-65da65dc.js","node_modules/mermaid/src/dagre-wrapper/markers.js","node_modules/mermaid/src/dagre-wrapper/createLabel.js","node_modules/mermaid/src/dagre-wrapper/shapes/util.js","node_modules/mermaid/src/dagre-wrapper/intersect/intersect-node.js","node_modules/mermaid/src/dagre-wrapper/intersect/intersect-ellipse.js","node_modules/mermaid/src/dagre-wrapper/intersect/intersect-circle.js","node_modules/mermaid/src/dagre-wrapper/intersect/intersect-line.js","node_modules/mermaid/src/dagre-wrapper/intersect/intersect-polygon.js","node_modules/mermaid/src/dagre-wrapper/intersect/intersect-rect.js","node_modules/mermaid/src/dagre-wrapper/intersect/index.js","node_modules/mermaid/src/dagre-wrapper/shapes/note.js","node_modules/mermaid/src/dagre-wrapper/nodes.js","node_modules/mermaid/src/dagre-wrapper/edges.js"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";module.bundle.HMR_BUNDLE_ID = \"d0b0546077f6cb88\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, chrome, browser, globalThis, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\n\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets\n/*: {|[string]: boolean|} */\n, assetsToDispose\n/*: Array<[ParcelRequire, string]> */\n, assetsToAccept\n/*: Array<[ParcelRequire, string]> */\n;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\n\nfunction getPort() {\n  return HMR_PORT || location.port;\n} // eslint-disable-next-line no-redeclare\n\n\nvar parent = module.bundle.parent;\n\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !/localhost|127.0.0.1|0.0.0.0/.test(hostname) ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/'); // Web extension context\n\n  var extCtx = typeof chrome === 'undefined' ? typeof browser === 'undefined' ? null : browser : chrome; // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n\n  var supportsSourceURL = false;\n\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  } // $FlowFixMe\n\n\n  ws.onmessage = async function (event\n  /*: {data: string, ...} */\n  ) {\n    checkedAssets = {}\n    /*: {|[string]: boolean|} */\n    ;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data\n    /*: HMRMessage */\n    = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH); // Handle HMR Update\n\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n\n      if (handled) {\n        console.clear(); // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n\n        await hmrApplyUpdates(assets); // Dispose all old assets.\n\n        let processedAssets = {}\n        /*: {|[string]: boolean|} */\n        ;\n\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        } // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n\n\n        processedAssets = {};\n\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error('🚨 [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html); // $FlowFixMe\n\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n\n  ws.onerror = function (e) {\n    console.error(e.message);\n  };\n\n  ws.onclose = function () {\n    console.warn('[parcel] 🚨 Connection to the HMR server was lost');\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel] ✨ Error resolved');\n  }\n}\n\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n          🚨 ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div>💡 ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div>📝 <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\n\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\n\nfunction getParents(bundle, id)\n/*: Array<[ParcelRequire, string]> */\n{\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n\n  newLink.setAttribute('href', // $FlowFixMe\n  link.getAttribute('href').split('?')[0] + '?' + Date.now()); // $FlowFixMe\n\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\n\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href\n      /*: string */\n      = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n\n      return new Promise((resolve, reject) => {\n        var _document$head;\n\n        script.onload = () => resolve(script);\n\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 ? void 0 : _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\n\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension bugfix for Chromium\n          // https://bugs.chromium.org/p/chromium/issues/detail?id=1255412#c12\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3) {\n            if (typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n              extCtx.runtime.reload();\n              return;\n            }\n\n            asset.url = extCtx.runtime.getURL('/__parcel_hmr_proxy__?url=' + encodeURIComponent(asset.url + '?t=' + Date.now()));\n            return hmrDownload(asset);\n          }\n\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n\n          (_document$head2 = document.head) === null || _document$head2 === void 0 ? void 0 : _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\n\nfunction hmrApply(bundle\n/*: ParcelRequire */\n, asset\n/*:  HMRAsset */\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      } // $FlowFixMe\n\n\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\n\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    } // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n\n\n    delete modules[id];\n    delete bundle.cache[id]; // Now delete the orphans.\n\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\n\nfunction hmrAcceptCheck(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  } // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n\n\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n\n      parents.push(...p);\n    }\n  }\n\n  return accepted;\n}\n\nfunction hmrAcceptCheckOne(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n, depsByBundle\n/*: ?{ [string]: { [string]: string } }*/\n) {\n  var modules = bundle.modules;\n\n  if (!modules) {\n    return;\n  }\n\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n\n  if (checkedAssets[id]) {\n    return true;\n  }\n\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\n\nfunction hmrDispose(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n\n  delete bundle.cache[id];\n}\n\nfunction hmrAccept(bundle\n/*: ParcelRequire */\n, id\n/*: string */\n) {\n  // Execute the module.\n  bundle(id); // Run the accept callbacks in the new version of the module.\n\n  var cached = bundle.cache[id];\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        }); // $FlowFixMe[method-unbinding]\n\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}",null,"/** Setup arrow head and define the marker. The result is appended to the svg. */\n\nimport { log } from '../logger';\n\n// Only add the number of markers that the diagram needs\nconst insertMarkers = (elem, markerArray, type, id) => {\n  markerArray.forEach((markerName) => {\n    markers[markerName](elem, type, id);\n  });\n};\n\nconst extension = (elem, type, id) => {\n  log.trace('Making markers for ', id);\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-extensionStart')\n    .attr('class', 'marker extension ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 1,7 L18,13 V 1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-extensionEnd')\n    .attr('class', 'marker extension ' + type)\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 1,1 V 13 L18,7 Z'); // this is actual shape for arrowhead\n};\n\nconst composition = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-compositionStart')\n    .attr('class', 'marker composition ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-compositionEnd')\n    .attr('class', 'marker composition ' + type)\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n};\nconst aggregation = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-aggregationStart')\n    .attr('class', 'marker aggregation ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-aggregationEnd')\n    .attr('class', 'marker aggregation ' + type)\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L1,7 L9,1 Z');\n};\nconst dependency = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-dependencyStart')\n    .attr('class', 'marker dependency ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 5,7 L9,13 L1,7 L9,1 Z');\n\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-dependencyEnd')\n    .attr('class', 'marker dependency ' + type)\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 28)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 18,7 L9,13 L14,7 L9,1 Z');\n};\nconst lollipop = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-lollipopStart')\n    .attr('class', 'marker lollipop ' + type)\n    .attr('refX', 0)\n    .attr('refY', 7)\n    .attr('markerWidth', 190)\n    .attr('markerHeight', 240)\n    .attr('orient', 'auto')\n    .append('circle')\n    .attr('stroke', 'black')\n    .attr('fill', 'white')\n    .attr('cx', 6)\n    .attr('cy', 7)\n    .attr('r', 6);\n};\nconst point = (elem, type) => {\n  elem\n    .append('marker')\n    .attr('id', type + '-pointEnd')\n    .attr('class', 'marker ' + type)\n    .attr('viewBox', '0 0 12 20')\n    .attr('refX', 10)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 12)\n    .attr('markerHeight', 12)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 0 0 L 10 5 L 0 10 z')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n  elem\n    .append('marker')\n    .attr('id', type + '-pointStart')\n    .attr('class', 'marker ' + type)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 0)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 12)\n    .attr('markerHeight', 12)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 0 5 L 10 10 L 10 0 z')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n};\nconst circle = (elem, type) => {\n  elem\n    .append('marker')\n    .attr('id', type + '-circleEnd')\n    .attr('class', 'marker ' + type)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 11)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 11)\n    .attr('markerHeight', 11)\n    .attr('orient', 'auto')\n    .append('circle')\n    .attr('cx', '5')\n    .attr('cy', '5')\n    .attr('r', '5')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n\n  elem\n    .append('marker')\n    .attr('id', type + '-circleStart')\n    .attr('class', 'marker ' + type)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', -1)\n    .attr('refY', 5)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 11)\n    .attr('markerHeight', 11)\n    .attr('orient', 'auto')\n    .append('circle')\n    .attr('cx', '5')\n    .attr('cy', '5')\n    .attr('r', '5')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n};\nconst cross = (elem, type) => {\n  elem\n    .append('marker')\n    .attr('id', type + '-crossEnd')\n    .attr('class', 'marker cross ' + type)\n    .attr('viewBox', '0 0 11 11')\n    .attr('refX', 12)\n    .attr('refY', 5.2)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 11)\n    .attr('markerHeight', 11)\n    .attr('orient', 'auto')\n    .append('path')\n    // .attr('stroke', 'black')\n    .attr('d', 'M 1,1 l 9,9 M 10,1 l -9,9')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 2)\n    .style('stroke-dasharray', '1,0');\n\n  elem\n    .append('marker')\n    .attr('id', type + '-crossStart')\n    .attr('class', 'marker cross ' + type)\n    .attr('viewBox', '0 0 11 11')\n    .attr('refX', -1)\n    .attr('refY', 5.2)\n    .attr('markerUnits', 'userSpaceOnUse')\n    .attr('markerWidth', 11)\n    .attr('markerHeight', 11)\n    .attr('orient', 'auto')\n    .append('path')\n    // .attr('stroke', 'black')\n    .attr('d', 'M 1,1 l 9,9 M 10,1 l -9,9')\n    .attr('class', 'arrowMarkerPath')\n    .style('stroke-width', 2)\n    .style('stroke-dasharray', '1,0');\n};\nconst barb = (elem, type) => {\n  elem\n    .append('defs')\n    .append('marker')\n    .attr('id', type + '-barbEnd')\n    .attr('refX', 19)\n    .attr('refY', 7)\n    .attr('markerWidth', 20)\n    .attr('markerHeight', 14)\n    .attr('markerUnits', 'strokeWidth')\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 19,7 L9,13 L14,7 L9,1 Z');\n};\n\n// TODO rename the class diagram markers to something shape descriptive and semantic free\nconst markers = {\n  extension,\n  composition,\n  aggregation,\n  dependency,\n  lollipop,\n  point,\n  circle,\n  cross,\n  barb,\n};\nexport default insertMarkers;\n","import { select } from 'd3';\nimport { log } from '../logger';\nimport { getConfig } from '../config';\nimport { evaluate } from '../diagrams/common/common';\nimport { decodeEntities } from '../mermaidAPI';\n\n/**\n * @param dom\n * @param styleFn\n */\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr('style', styleFn);\n  }\n}\n\n/**\n * @param {any} node\n * @returns {SVGForeignObjectElement} Node\n */\nfunction addHtmlLabel(node) {\n  const fo = select(document.createElementNS('http://www.w3.org/2000/svg', 'foreignObject'));\n  const div = fo.append('xhtml:div');\n\n  const label = node.label;\n  const labelClass = node.isNode ? 'nodeLabel' : 'edgeLabel';\n  div.html(\n    '<span class=\"' +\n      labelClass +\n      '\" ' +\n      (node.labelStyle ? 'style=\"' + node.labelStyle + '\"' : '') +\n      '>' +\n      label +\n      '</span>'\n  );\n\n  applyStyle(div, node.labelStyle);\n  div.style('display', 'inline-block');\n  // Fix for firefox\n  div.style('white-space', 'nowrap');\n  div.attr('xmlns', 'http://www.w3.org/1999/xhtml');\n  return fo.node();\n}\n\nconst createLabel = (_vertexText, style, isTitle, isNode) => {\n  let vertexText = _vertexText || '';\n  if (typeof vertexText === 'object') {\n    vertexText = vertexText[0];\n  }\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    // TODO: addHtmlLabel accepts a labelStyle. Do we possibly have that?\n    vertexText = vertexText.replace(/\\\\n|\\n/g, '<br />');\n    log.info('vertexText' + vertexText);\n    const node = {\n      isNode,\n      label: decodeEntities(vertexText).replace(\n        /fa[blrs]?:fa-[\\w-]+/g,\n        (s) => `<i class='${s.replace(':', ' ')}'></i>`\n      ),\n      labelStyle: style.replace('fill:', 'color:'),\n    };\n    let vertexNode = addHtmlLabel(node);\n    // vertexNode.parentNode.removeChild(vertexNode);\n    return vertexNode;\n  } else {\n    const svgLabel = document.createElementNS('http://www.w3.org/2000/svg', 'text');\n    svgLabel.setAttribute('style', style.replace('color:', 'fill:'));\n    let rows = [];\n    if (typeof vertexText === 'string') {\n      rows = vertexText.split(/\\\\n|\\n|<br\\s*\\/?>/gi);\n    } else if (Array.isArray(vertexText)) {\n      rows = vertexText;\n    } else {\n      rows = [];\n    }\n\n    for (const row of rows) {\n      const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');\n      tspan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n      tspan.setAttribute('dy', '1em');\n      tspan.setAttribute('x', '0');\n      if (isTitle) {\n        tspan.setAttribute('class', 'title-row');\n      } else {\n        tspan.setAttribute('class', 'row');\n      }\n      tspan.textContent = row.trim();\n      svgLabel.appendChild(tspan);\n    }\n    return svgLabel;\n  }\n};\n\nexport default createLabel;\n","import createLabel from '../createLabel';\nimport { getConfig } from '../../config';\nimport { decodeEntities } from '../../mermaidAPI';\nimport { select } from 'd3';\nimport { evaluate, sanitizeText } from '../../diagrams/common/common';\nexport const labelHelper = (parent, node, _classes, isNode) => {\n  let classes;\n  if (!_classes) {\n    classes = 'node default';\n  } else {\n    classes = _classes;\n  }\n  // Add outer g element\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', classes)\n    .attr('id', node.domId || node.id);\n\n  // Create the label and insert it after the rect\n  const label = shapeSvg.insert('g').attr('class', 'label').attr('style', node.labelStyle);\n\n  // Replace labelText with default value if undefined\n  let labelText;\n  if (node.labelText === undefined) {\n    labelText = '';\n  } else {\n    labelText = typeof node.labelText === 'string' ? node.labelText : node.labelText[0];\n  }\n\n  const text = label\n    .node()\n    .appendChild(\n      createLabel(\n        sanitizeText(decodeEntities(labelText), getConfig()),\n        node.labelStyle,\n        false,\n        isNode\n      )\n    );\n\n  // Get the size of the label\n  let bbox = text.getBBox();\n\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n\n  const halfPadding = node.padding / 2;\n\n  // Center the label\n  label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + -bbox.height / 2 + ')');\n\n  return { shapeSvg, bbox, halfPadding, label };\n};\n\nexport const updateNodeBounds = (node, element) => {\n  const bbox = element.node().getBBox();\n  node.width = bbox.width;\n  node.height = bbox.height;\n};\n\n/**\n * @param parent\n * @param w\n * @param h\n * @param points\n */\nexport function insertPolygonShape(parent, w, h, points) {\n  return parent\n    .insert('polygon', ':first-child')\n    .attr(\n      'points',\n      points\n        .map(function (d) {\n          return d.x + ',' + d.y;\n        })\n        .join(' ')\n    )\n    .attr('class', 'label-container')\n    .attr('transform', 'translate(' + -w / 2 + ',' + h / 2 + ')');\n}\n","/**\n * @param node\n * @param point\n */\nfunction intersectNode(node, point) {\n  // console.info('Intersect Node');\n  return node.intersect(point);\n}\n\nexport default intersectNode;\n","/**\n * @param node\n * @param rx\n * @param ry\n * @param point\n */\nfunction intersectEllipse(node, rx, ry, point) {\n  // Formulae from: https://mathworld.wolfram.com/Ellipse-LineIntersection.html\n\n  var cx = node.x;\n  var cy = node.y;\n\n  var px = cx - point.x;\n  var py = cy - point.y;\n\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n\n  var dx = Math.abs((rx * ry * px) / det);\n  if (point.x < cx) {\n    dx = -dx;\n  }\n  var dy = Math.abs((rx * ry * py) / det);\n  if (point.y < cy) {\n    dy = -dy;\n  }\n\n  return { x: cx + dx, y: cy + dy };\n}\n\nexport default intersectEllipse;\n","import intersectEllipse from './intersect-ellipse';\n\n/**\n * @param node\n * @param rx\n * @param point\n */\nfunction intersectCircle(node, rx, point) {\n  return intersectEllipse(node, rx, rx, point);\n}\n\nexport default intersectCircle;\n","/**\n * Returns the point at which two lines, p and q, intersect or returns undefined if they do not intersect.\n *\n * @param p1\n * @param p2\n * @param q1\n * @param q2\n */\nfunction intersectLine(p1, p2, q1, q2) {\n  // Algorithm from J. Avro, (ed.) Graphics Gems, No 2, Morgan Kaufmann, 1994,\n  // p7 and p473.\n\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n  var x, y;\n\n  // Compute a1, b1, c1, where line joining points 1 and 2 is F(x,y) = a1 x +\n  // b1 y + c1 = 0.\n  a1 = p2.y - p1.y;\n  b1 = p1.x - p2.x;\n  c1 = p2.x * p1.y - p1.x * p2.y;\n\n  // Compute r3 and r4.\n  r3 = a1 * q1.x + b1 * q1.y + c1;\n  r4 = a1 * q2.x + b1 * q2.y + c1;\n\n  // Check signs of r3 and r4. If both point 3 and point 4 lie on\n  // same side of line 1, the line segments do not intersect.\n  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n    return /*DON'T_INTERSECT*/;\n  }\n\n  // Compute a2, b2, c2 where line joining points 3 and 4 is G(x,y) = a2 x + b2 y + c2 = 0\n  a2 = q2.y - q1.y;\n  b2 = q1.x - q2.x;\n  c2 = q2.x * q1.y - q1.x * q2.y;\n\n  // Compute r1 and r2\n  r1 = a2 * p1.x + b2 * p1.y + c2;\n  r2 = a2 * p2.x + b2 * p2.y + c2;\n\n  // Check signs of r1 and r2. If both point 1 and point 2 lie\n  // on same side of second line segment, the line segments do\n  // not intersect.\n  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\n    return /*DON'T_INTERSECT*/;\n  }\n\n  // Line segments intersect: compute intersection point.\n  denom = a1 * b2 - a2 * b1;\n  if (denom === 0) {\n    return /*COLLINEAR*/;\n  }\n\n  offset = Math.abs(denom / 2);\n\n  // The denom/2 is to get rounding instead of truncating. It\n  // is added or subtracted to the numerator, depending upon the\n  // sign of the numerator.\n  num = b1 * c2 - b2 * c1;\n  x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n\n  num = a2 * c1 - a1 * c2;\n  y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n\n  return { x: x, y: y };\n}\n\n/**\n * @param r1\n * @param r2\n */\nfunction sameSign(r1, r2) {\n  return r1 * r2 > 0;\n}\n\nexport default intersectLine;\n","/* eslint \"no-console\": off */\n\nimport intersectLine from './intersect-line';\n\nexport default intersectPolygon;\n\n/**\n * Returns the point ({x, y}) at which the point argument intersects with the node argument assuming\n * that it has the shape specified by polygon.\n *\n * @param node\n * @param polyPoints\n * @param point\n */\nfunction intersectPolygon(node, polyPoints, point) {\n  var x1 = node.x;\n  var y1 = node.y;\n\n  var intersections = [];\n\n  var minX = Number.POSITIVE_INFINITY;\n  var minY = Number.POSITIVE_INFINITY;\n  if (typeof polyPoints.forEach === 'function') {\n    polyPoints.forEach(function (entry) {\n      minX = Math.min(minX, entry.x);\n      minY = Math.min(minY, entry.y);\n    });\n  } else {\n    minX = Math.min(minX, polyPoints.x);\n    minY = Math.min(minY, polyPoints.y);\n  }\n\n  var left = x1 - node.width / 2 - minX;\n  var top = y1 - node.height / 2 - minY;\n\n  for (var i = 0; i < polyPoints.length; i++) {\n    var p1 = polyPoints[i];\n    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n    var intersect = intersectLine(\n      node,\n      point,\n      { x: left + p1.x, y: top + p1.y },\n      { x: left + p2.x, y: top + p2.y }\n    );\n    if (intersect) {\n      intersections.push(intersect);\n    }\n  }\n\n  if (!intersections.length) {\n    // console.log('NO INTERSECTION FOUND, RETURN NODE CENTER', node);\n    return node;\n  }\n\n  if (intersections.length > 1) {\n    // More intersections, find the one nearest to edge end point\n    intersections.sort(function (p, q) {\n      var pdx = p.x - point.x;\n      var pdy = p.y - point.y;\n      var distp = Math.sqrt(pdx * pdx + pdy * pdy);\n\n      var qdx = q.x - point.x;\n      var qdy = q.y - point.y;\n      var distq = Math.sqrt(qdx * qdx + qdy * qdy);\n\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\n    });\n  }\n  return intersections[0];\n}\n","const intersectRect = (node, point) => {\n  var x = node.x;\n  var y = node.y;\n\n  // Rectangle intersection algorithm from:\n  // https://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = node.width / 2;\n  var h = node.height / 2;\n\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    // Intersection is top or bottom of rect.\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = dy === 0 ? 0 : (h * dx) / dy;\n    sy = h;\n  } else {\n    // Intersection is left or right of rect.\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = dx === 0 ? 0 : (w * dy) / dx;\n  }\n\n  return { x: x + sx, y: y + sy };\n};\n\nexport default intersectRect;\n","/*\n * Borrowed with love from from dagre-d3. Many thanks to cpettitt!\n */\n\nimport node from './intersect-node.js';\nimport circle from './intersect-circle.js';\nimport ellipse from './intersect-ellipse.js';\nimport polygon from './intersect-polygon.js';\nimport rect from './intersect-rect.js';\n\nexport default {\n  node,\n  circle,\n  ellipse,\n  polygon,\n  rect,\n};\n","import { updateNodeBounds, labelHelper } from './util';\nimport { log } from '../../logger';\nimport intersect from '../intersect/index.js';\n\nconst note = (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes, true);\n\n  log.info('Classes = ', node.classes);\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  rect\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('x', -bbox.width / 2 - halfPadding)\n    .attr('y', -bbox.height / 2 - halfPadding)\n    .attr('width', bbox.width + node.padding)\n    .attr('height', bbox.height + node.padding);\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nexport default note;\n","import { select } from 'd3';\nimport { log } from '../logger';\nimport { labelHelper, updateNodeBounds, insertPolygonShape } from './shapes/util';\nimport { getConfig } from '../config';\nimport intersect from './intersect/index.js';\nimport createLabel from './createLabel';\nimport note from './shapes/note';\nimport { parseMember } from '../diagrams/class/svgDraw';\nimport { evaluate } from '../diagrams/common/common';\n\nconst question = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const s = w + h;\n  const points = [\n    { x: s / 2, y: 0 },\n    { x: s, y: -s / 2 },\n    { x: s / 2, y: -s },\n    { x: 0, y: -s / 2 },\n  ];\n\n  log.info('Question main (Circle)');\n\n  const questionElem = insertPolygonShape(shapeSvg, s, s, points);\n  questionElem.attr('style', node.style);\n  updateNodeBounds(node, questionElem);\n\n  node.intersect = function (point) {\n    log.warn('Intersect called');\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst choice = (parent, node) => {\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'node default')\n    .attr('id', node.domId || node.id);\n\n  const s = 28;\n  const points = [\n    { x: 0, y: s / 2 },\n    { x: s / 2, y: 0 },\n    { x: 0, y: -s / 2 },\n    { x: -s / 2, y: 0 },\n  ];\n\n  const choice = shapeSvg.insert('polygon', ':first-child').attr(\n    'points',\n    points\n      .map(function (d) {\n        return d.x + ',' + d.y;\n      })\n      .join(' ')\n  );\n  // center the circle around its coordinate\n  choice.attr('class', 'state-start').attr('r', 7).attr('width', 28).attr('height', 28);\n  node.width = 28;\n  node.height = 28;\n\n  node.intersect = function (point) {\n    return intersect.circle(node, 14, point);\n  };\n\n  return shapeSvg;\n};\n\nconst hexagon = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const f = 4;\n  const h = bbox.height + node.padding;\n  const m = h / f;\n  const w = bbox.width + 2 * m + node.padding;\n  const points = [\n    { x: m, y: 0 },\n    { x: w - m, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w - m, y: -h },\n    { x: m, y: -h },\n    { x: 0, y: -h / 2 },\n  ];\n\n  const hex = insertPolygonShape(shapeSvg, w, h, points);\n  hex.attr('style', node.style);\n  updateNodeBounds(node, hex);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst rect_left_inv_arrow = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -h / 2, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: -h / 2, y: -h },\n    { x: 0, y: -h / 2 },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n\n  node.width = w + h;\n  node.height = h;\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst lean_right = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: (-2 * h) / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: -h },\n    { x: h / 6, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst lean_left = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: (2 * h) / 6, y: 0 },\n    { x: w + h / 6, y: 0 },\n    { x: w - (2 * h) / 6, y: -h },\n    { x: -h / 6, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst trapezoid = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: (-2 * h) / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: 0 },\n    { x: w - h / 6, y: -h },\n    { x: h / 6, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst inv_trapezoid = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: h / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + (2 * h) / 6, y: -h },\n    { x: (-2 * h) / 6, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst rect_right_inv_arrow = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w + h / 2, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w + h / 2, y: -h },\n    { x: 0, y: -h },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst cylinder = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const h = bbox.height + ry + node.padding;\n\n  const shape =\n    'M 0,' +\n    ry +\n    ' a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    w +\n    ' 0 a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    -w +\n    ' 0 l 0,' +\n    h +\n    ' a ' +\n    rx +\n    ',' +\n    ry +\n    ' 0,0,0 ' +\n    w +\n    ' 0 l 0,' +\n    -h;\n\n  const el = shapeSvg\n    .attr('label-offset-y', ry)\n    .insert('path', ':first-child')\n    .attr('style', node.style)\n    .attr('d', shape)\n    .attr('transform', 'translate(' + -w / 2 + ',' + -(h / 2 + ry) + ')');\n\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    const pos = intersect.rect(node, point);\n    const x = pos.x - node.x;\n\n    if (\n      rx != 0 &&\n      (Math.abs(x) < node.width / 2 ||\n        (Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry))\n    ) {\n      // ellipsis equation: x*x / a*a + y*y / b*b = 1\n      // solve for y to get adjusted value for pos.y\n      let y = ry * ry * (1 - (x * x) / (rx * rx));\n      if (y != 0) {\n        y = Math.sqrt(y);\n      }\n      y = ry - y;\n      if (point.y - node.y > 0) {\n        y = -y;\n      }\n\n      pos.y += y;\n    }\n\n    return pos;\n  };\n\n  return shapeSvg;\n};\n\nconst rect = (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes, true);\n\n  log.trace('Classes = ', node.classes);\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  const totalWidth = bbox.width + node.padding;\n  const totalHeight = bbox.height + node.padding;\n  rect\n    .attr('class', 'basic label-container')\n    .attr('style', node.style)\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('x', -bbox.width / 2 - halfPadding)\n    .attr('y', -bbox.height / 2 - halfPadding)\n    .attr('width', totalWidth)\n    .attr('height', totalHeight);\n\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete('borders');\n    }\n    propKeys.forEach((propKey) => {\n      log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst labelRect = (parent, node) => {\n  const { shapeSvg } = labelHelper(parent, node, 'label', true);\n\n  log.trace('Classes = ', node.classes);\n  // add the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n\n  // Hide the rect we are only after the label\n  const totalWidth = 0;\n  const totalHeight = 0;\n  rect.attr('width', totalWidth).attr('height', totalHeight);\n  shapeSvg.attr('class', 'label edgeLabel');\n\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete('borders');\n    }\n    propKeys.forEach((propKey) => {\n      log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\n/**\n * @param rect\n * @param borders\n * @param totalWidth\n * @param totalHeight\n */\nfunction applyNodePropertyBorders(rect, borders, totalWidth, totalHeight) {\n  const strokeDashArray = [];\n  const addBorder = (length) => {\n    strokeDashArray.push(length, 0);\n  };\n  const skipBorder = (length) => {\n    strokeDashArray.push(0, length);\n  };\n  if (borders.includes('t')) {\n    log.debug('add top border');\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes('r')) {\n    log.debug('add right border');\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  if (borders.includes('b')) {\n    log.debug('add bottom border');\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes('l')) {\n    log.debug('add left border');\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  rect.attr('stroke-dasharray', strokeDashArray.join(' '));\n}\n\nconst rectWithTitle = (parent, node) => {\n  // const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, 'node ' + node.classes);\n\n  let classes;\n  if (!node.classes) {\n    classes = 'node default';\n  } else {\n    classes = 'node ' + node.classes;\n  }\n  // Add outer g element\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', classes)\n    .attr('id', node.domId || node.id);\n\n  // Create the title label and insert it after the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n  // const innerRect = shapeSvg.insert('rect');\n  const innerLine = shapeSvg.insert('line');\n\n  const label = shapeSvg.insert('g').attr('class', 'label');\n\n  const text2 = node.labelText.flat ? node.labelText.flat() : node.labelText;\n  // const text2 = typeof text2prim === 'object' ? text2prim[0] : text2prim;\n\n  let title = '';\n  if (typeof text2 === 'object') {\n    title = text2[0];\n  } else {\n    title = text2;\n  }\n  log.info('Label text abc79', title, text2, typeof text2 === 'object');\n\n  const text = label.node().appendChild(createLabel(title, node.labelStyle, true, true));\n  let bbox = { width: 0, height: 0 };\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = select(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n  log.info('Text 2', text2);\n  const textRows = text2.slice(1, text2.length);\n  let titleBox = text.getBBox();\n  const descr = label\n    .node()\n    .appendChild(\n      createLabel(textRows.join ? textRows.join('<br/>') : textRows, node.labelStyle, true, true)\n    );\n\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = descr.children[0];\n    const dv = select(descr);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n  // bbox = label.getBBox();\n  // log.info(descr);\n  const halfPadding = node.padding / 2;\n  select(descr).attr(\n    'transform',\n    'translate( ' +\n      // (titleBox.width - bbox.width) / 2 +\n      (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) +\n      ', ' +\n      (titleBox.height + halfPadding + 5) +\n      ')'\n  );\n  select(text).attr(\n    'transform',\n    'translate( ' +\n      // (titleBox.width - bbox.width) / 2 +\n      (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) +\n      ', ' +\n      0 +\n      ')'\n  );\n  // Get the size of the label\n\n  // Bounding box for title and text\n  bbox = label.node().getBBox();\n\n  // Center the label\n  label.attr(\n    'transform',\n    'translate(' + -bbox.width / 2 + ', ' + (-bbox.height / 2 - halfPadding + 3) + ')'\n  );\n\n  rect\n    .attr('class', 'outer title-state')\n    .attr('x', -bbox.width / 2 - halfPadding)\n    .attr('y', -bbox.height / 2 - halfPadding)\n    .attr('width', bbox.width + node.padding)\n    .attr('height', bbox.height + node.padding);\n\n  innerLine\n    .attr('class', 'divider')\n    .attr('x1', -bbox.width / 2 - halfPadding)\n    .attr('x2', bbox.width / 2 + halfPadding)\n    .attr('y1', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding)\n    .attr('y2', -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst stadium = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const h = bbox.height + node.padding;\n  const w = bbox.width + h / 4 + node.padding;\n\n  // add the rect\n  const rect = shapeSvg\n    .insert('rect', ':first-child')\n    .attr('style', node.style)\n    .attr('rx', h / 2)\n    .attr('ry', h / 2)\n    .attr('x', -w / 2)\n    .attr('y', -h / 2)\n    .attr('width', w)\n    .attr('height', h);\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst circle = (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, undefined, true);\n  const circle = shapeSvg.insert('circle', ':first-child');\n\n  // center the circle around its coordinate\n  circle\n    .attr('style', node.style)\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('r', bbox.width / 2 + halfPadding)\n    .attr('width', bbox.width + node.padding)\n    .attr('height', bbox.height + node.padding);\n\n  log.info('Circle main');\n\n  updateNodeBounds(node, circle);\n\n  node.intersect = function (point) {\n    log.info('Circle intersect', node, bbox.width / 2 + halfPadding, point);\n    return intersect.circle(node, bbox.width / 2 + halfPadding, point);\n  };\n\n  return shapeSvg;\n};\n\nconst doublecircle = (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = labelHelper(parent, node, undefined, true);\n  const gap = 5;\n  const circleGroup = shapeSvg.insert('g', ':first-child');\n  const outerCircle = circleGroup.insert('circle');\n  const innerCircle = circleGroup.insert('circle');\n\n  // center the circle around its coordinate\n  outerCircle\n    .attr('style', node.style)\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('r', bbox.width / 2 + halfPadding + gap)\n    .attr('width', bbox.width + node.padding + gap * 2)\n    .attr('height', bbox.height + node.padding + gap * 2);\n\n  innerCircle\n    .attr('style', node.style)\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('r', bbox.width / 2 + halfPadding)\n    .attr('width', bbox.width + node.padding)\n    .attr('height', bbox.height + node.padding);\n\n  log.info('DoubleCircle main');\n\n  updateNodeBounds(node, outerCircle);\n\n  node.intersect = function (point) {\n    log.info('DoubleCircle intersect', node, bbox.width / 2 + halfPadding + gap, point);\n    return intersect.circle(node, bbox.width / 2 + halfPadding + gap, point);\n  };\n\n  return shapeSvg;\n};\n\nconst subroutine = (parent, node) => {\n  const { shapeSvg, bbox } = labelHelper(parent, node, undefined, true);\n\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: 0, y: -h },\n    { x: 0, y: 0 },\n    { x: -8, y: 0 },\n    { x: w + 8, y: 0 },\n    { x: w + 8, y: -h },\n    { x: -8, y: -h },\n    { x: -8, y: 0 },\n  ];\n\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr('style', node.style);\n  updateNodeBounds(node, el);\n\n  node.intersect = function (point) {\n    return intersect.polygon(node, points, point);\n  };\n\n  return shapeSvg;\n};\n\nconst start = (parent, node) => {\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'node default')\n    .attr('id', node.domId || node.id);\n  const circle = shapeSvg.insert('circle', ':first-child');\n\n  // center the circle around its coordinate\n  circle.attr('class', 'state-start').attr('r', 7).attr('width', 14).attr('height', 14);\n\n  updateNodeBounds(node, circle);\n\n  node.intersect = function (point) {\n    return intersect.circle(node, 7, point);\n  };\n\n  return shapeSvg;\n};\n\nconst forkJoin = (parent, node, dir) => {\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'node default')\n    .attr('id', node.domId || node.id);\n\n  let width = 70;\n  let height = 10;\n\n  if (dir === 'LR') {\n    width = 10;\n    height = 70;\n  }\n\n  const shape = shapeSvg\n    .append('rect')\n    .attr('x', (-1 * width) / 2)\n    .attr('y', (-1 * height) / 2)\n    .attr('width', width)\n    .attr('height', height)\n    .attr('class', 'fork-join');\n\n  updateNodeBounds(node, shape);\n  node.height = node.height + node.padding / 2;\n  node.width = node.width + node.padding / 2;\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst end = (parent, node) => {\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', 'node default')\n    .attr('id', node.domId || node.id);\n  const innerCircle = shapeSvg.insert('circle', ':first-child');\n  const circle = shapeSvg.insert('circle', ':first-child');\n\n  circle.attr('class', 'state-start').attr('r', 7).attr('width', 14).attr('height', 14);\n\n  innerCircle.attr('class', 'state-end').attr('r', 5).attr('width', 10).attr('height', 10);\n\n  updateNodeBounds(node, circle);\n\n  node.intersect = function (point) {\n    return intersect.circle(node, 7, point);\n  };\n\n  return shapeSvg;\n};\n\nconst class_box = (parent, node) => {\n  const halfPadding = node.padding / 2;\n  const rowPadding = 4;\n  const lineHeight = 8;\n\n  let classes;\n  if (!node.classes) {\n    classes = 'node default';\n  } else {\n    classes = 'node ' + node.classes;\n  }\n  // Add outer g element\n  const shapeSvg = parent\n    .insert('g')\n    .attr('class', classes)\n    .attr('id', node.domId || node.id);\n\n  // Create the title label and insert it after the rect\n  const rect = shapeSvg.insert('rect', ':first-child');\n  const topLine = shapeSvg.insert('line');\n  const bottomLine = shapeSvg.insert('line');\n  let maxWidth = 0;\n  let maxHeight = rowPadding;\n\n  const labelContainer = shapeSvg.insert('g').attr('class', 'label');\n  let verticalPos = 0;\n  const hasInterface = node.classData.annotations && node.classData.annotations[0];\n\n  // 1. Create the labels\n  const interfaceLabelText = node.classData.annotations[0]\n    ? '«' + node.classData.annotations[0] + '»'\n    : '';\n  const interfaceLabel = labelContainer\n    .node()\n    .appendChild(createLabel(interfaceLabelText, node.labelStyle, true, true));\n  let interfaceBBox = interfaceLabel.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = interfaceLabel.children[0];\n    const dv = select(interfaceLabel);\n    interfaceBBox = div.getBoundingClientRect();\n    dv.attr('width', interfaceBBox.width);\n    dv.attr('height', interfaceBBox.height);\n  }\n  if (node.classData.annotations[0]) {\n    maxHeight += interfaceBBox.height + rowPadding;\n    maxWidth += interfaceBBox.width;\n  }\n\n  let classTitleString = node.classData.label;\n\n  if (node.classData.type !== undefined && node.classData.type !== '') {\n    if (getConfig().flowchart.htmlLabels) {\n      classTitleString += '&lt;' + node.classData.type + '&gt;';\n    } else {\n      classTitleString += '<' + node.classData.type + '>';\n    }\n  }\n  const classTitleLabel = labelContainer\n    .node()\n    .appendChild(createLabel(classTitleString, node.labelStyle, true, true));\n  select(classTitleLabel).attr('class', 'classTitle');\n  let classTitleBBox = classTitleLabel.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = classTitleLabel.children[0];\n    const dv = select(classTitleLabel);\n    classTitleBBox = div.getBoundingClientRect();\n    dv.attr('width', classTitleBBox.width);\n    dv.attr('height', classTitleBBox.height);\n  }\n  maxHeight += classTitleBBox.height + rowPadding;\n  if (classTitleBBox.width > maxWidth) {\n    maxWidth = classTitleBBox.width;\n  }\n  const classAttributes = [];\n  node.classData.members.forEach((str) => {\n    const parsedInfo = parseMember(str);\n    let parsedText = parsedInfo.displayText;\n    if (getConfig().flowchart.htmlLabels) {\n      parsedText = parsedText.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    }\n    const lbl = labelContainer\n      .node()\n      .appendChild(\n        createLabel(\n          parsedText,\n          parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\n          true,\n          true\n        )\n      );\n    let bbox = lbl.getBBox();\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = select(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr('width', bbox.width);\n      dv.attr('height', bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n    classAttributes.push(lbl);\n  });\n\n  maxHeight += lineHeight;\n\n  const classMethods = [];\n  node.classData.methods.forEach((str) => {\n    const parsedInfo = parseMember(str);\n    let displayText = parsedInfo.displayText;\n    if (getConfig().flowchart.htmlLabels) {\n      displayText = displayText.replace(/</g, '&lt;').replace(/>/g, '&gt;');\n    }\n    const lbl = labelContainer\n      .node()\n      .appendChild(\n        createLabel(\n          displayText,\n          parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\n          true,\n          true\n        )\n      );\n    let bbox = lbl.getBBox();\n    if (evaluate(getConfig().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = select(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr('width', bbox.width);\n      dv.attr('height', bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n\n    classMethods.push(lbl);\n  });\n\n  maxHeight += lineHeight;\n\n  // 2. Position the labels\n\n  // position the interface label\n  if (hasInterface) {\n    let diffX = (maxWidth - interfaceBBox.width) / 2;\n    select(interfaceLabel).attr(\n      'transform',\n      'translate( ' + ((-1 * maxWidth) / 2 + diffX) + ', ' + (-1 * maxHeight) / 2 + ')'\n    );\n    verticalPos = interfaceBBox.height + rowPadding;\n  }\n  // Position the class title label\n  let diffX = (maxWidth - classTitleBBox.width) / 2;\n  select(classTitleLabel).attr(\n    'transform',\n    'translate( ' +\n      ((-1 * maxWidth) / 2 + diffX) +\n      ', ' +\n      ((-1 * maxHeight) / 2 + verticalPos) +\n      ')'\n  );\n  verticalPos += classTitleBBox.height + rowPadding;\n\n  topLine\n    .attr('class', 'divider')\n    .attr('x1', -maxWidth / 2 - halfPadding)\n    .attr('x2', maxWidth / 2 + halfPadding)\n    .attr('y1', -maxHeight / 2 - halfPadding + lineHeight + verticalPos)\n    .attr('y2', -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n\n  verticalPos += lineHeight;\n\n  classAttributes.forEach((lbl) => {\n    select(lbl).attr(\n      'transform',\n      'translate( ' +\n        -maxWidth / 2 +\n        ', ' +\n        ((-1 * maxHeight) / 2 + verticalPos + lineHeight / 2) +\n        ')'\n    );\n    verticalPos += classTitleBBox.height + rowPadding;\n  });\n\n  verticalPos += lineHeight;\n  bottomLine\n    .attr('class', 'divider')\n    .attr('x1', -maxWidth / 2 - halfPadding)\n    .attr('x2', maxWidth / 2 + halfPadding)\n    .attr('y1', -maxHeight / 2 - halfPadding + lineHeight + verticalPos)\n    .attr('y2', -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n\n  verticalPos += lineHeight;\n\n  classMethods.forEach((lbl) => {\n    select(lbl).attr(\n      'transform',\n      'translate( ' + -maxWidth / 2 + ', ' + ((-1 * maxHeight) / 2 + verticalPos) + ')'\n    );\n    verticalPos += classTitleBBox.height + rowPadding;\n  });\n\n  rect\n    .attr('class', 'outer title-state')\n    .attr('x', -maxWidth / 2 - halfPadding)\n    .attr('y', -(maxHeight / 2) - halfPadding)\n    .attr('width', maxWidth + node.padding)\n    .attr('height', maxHeight + node.padding);\n\n  updateNodeBounds(node, rect);\n\n  node.intersect = function (point) {\n    return intersect.rect(node, point);\n  };\n\n  return shapeSvg;\n};\n\nconst shapes = {\n  rhombus: question,\n  question,\n  rect,\n  labelRect,\n  rectWithTitle,\n  choice,\n  circle,\n  doublecircle,\n  stadium,\n  hexagon,\n  rect_left_inv_arrow,\n  lean_right,\n  lean_left,\n  trapezoid,\n  inv_trapezoid,\n  rect_right_inv_arrow,\n  cylinder,\n  start,\n  end,\n  note,\n  subroutine,\n  fork: forkJoin,\n  join: forkJoin,\n  class_box,\n};\n\nlet nodeElems = {};\n\nexport const insertNode = (elem, node, dir) => {\n  let newEl;\n  let el;\n\n  // Add link when appropriate\n  if (node.link) {\n    let target;\n    if (getConfig().securityLevel === 'sandbox') {\n      target = '_top';\n    } else if (node.linkTarget) {\n      target = node.linkTarget || '_blank';\n    }\n    newEl = elem.insert('svg:a').attr('xlink:href', node.link).attr('target', target);\n    el = shapes[node.shape](newEl, node, dir);\n  } else {\n    el = shapes[node.shape](elem, node, dir);\n    newEl = el;\n  }\n  if (node.tooltip) {\n    el.attr('title', node.tooltip);\n  }\n  if (node.class) {\n    el.attr('class', 'node default ' + node.class);\n  }\n\n  nodeElems[node.id] = newEl;\n\n  if (node.haveCallback) {\n    nodeElems[node.id].attr('class', nodeElems[node.id].attr('class') + ' clickable');\n  }\n  return newEl;\n};\nexport const setNodeElem = (elem, node) => {\n  nodeElems[node.id] = elem;\n};\nexport const clear = () => {\n  nodeElems = {};\n};\n\nexport const positionNode = (node) => {\n  const el = nodeElems[node.id];\n  log.trace(\n    'Transforming node',\n    node.diff,\n    node,\n    'translate(' + (node.x - node.width / 2 - 5) + ', ' + node.width / 2 + ')'\n  );\n  const padding = 8;\n  const diff = node.diff || 0;\n  if (node.clusterNode) {\n    el.attr(\n      'transform',\n      'translate(' +\n        (node.x + diff - node.width / 2) +\n        ', ' +\n        (node.y - node.height / 2 - padding) +\n        ')'\n    );\n  } else {\n    el.attr('transform', 'translate(' + node.x + ', ' + node.y + ')');\n  }\n  return diff;\n};\n","import { log } from '../logger';\nimport createLabel from './createLabel';\nimport { line, curveBasis, select } from 'd3';\nimport { getConfig } from '../config';\nimport utils from '../utils';\nimport { evaluate } from '../diagrams/common/common';\n\nlet edgeLabels = {};\nlet terminalLabels = {};\n\nexport const clear = () => {\n  edgeLabels = {};\n  terminalLabels = {};\n};\n\nexport const insertEdgeLabel = (elem, edge) => {\n  // Create the actual text element\n  const labelElement = createLabel(edge.label, edge.labelStyle);\n\n  // Create outer g, edgeLabel, this will be positioned after graph layout\n  const edgeLabel = elem.insert('g').attr('class', 'edgeLabel');\n\n  // Create inner g, label, this will be positioned now for centering the text\n  const label = edgeLabel.insert('g').attr('class', 'label');\n  label.node().appendChild(labelElement);\n\n  // Center the label\n  let bbox = labelElement.getBBox();\n  if (evaluate(getConfig().flowchart.htmlLabels)) {\n    const div = labelElement.children[0];\n    const dv = select(labelElement);\n    bbox = div.getBoundingClientRect();\n    dv.attr('width', bbox.width);\n    dv.attr('height', bbox.height);\n  }\n  label.attr('transform', 'translate(' + -bbox.width / 2 + ', ' + -bbox.height / 2 + ')');\n\n  // Make element accessible by id for positioning\n  edgeLabels[edge.id] = edgeLabel;\n\n  // Update the abstract data of the edge with the new information about its width and height\n  edge.width = bbox.width;\n  edge.height = bbox.height;\n\n  let fo;\n  if (edge.startLabelLeft) {\n    // Create the actual text element\n    const startLabelElement = createLabel(edge.startLabelLeft, edge.labelStyle);\n    const startEdgeLabelLeft = elem.insert('g').attr('class', 'edgeTerminals');\n    const inner = startEdgeLabelLeft.insert('g').attr('class', 'inner');\n    fo = inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].startLeft = startEdgeLabelLeft;\n    setTerminalWidth(fo, edge.startLabelLeft);\n  }\n  if (edge.startLabelRight) {\n    // Create the actual text element\n    const startLabelElement = createLabel(edge.startLabelRight, edge.labelStyle);\n    const startEdgeLabelRight = elem.insert('g').attr('class', 'edgeTerminals');\n    const inner = startEdgeLabelRight.insert('g').attr('class', 'inner');\n    fo = startEdgeLabelRight.node().appendChild(startLabelElement);\n    inner.node().appendChild(startLabelElement);\n    const slBox = startLabelElement.getBBox();\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].startRight = startEdgeLabelRight;\n    setTerminalWidth(fo, edge.startLabelRight);\n  }\n  if (edge.endLabelLeft) {\n    // Create the actual text element\n    const endLabelElement = createLabel(edge.endLabelLeft, edge.labelStyle);\n    const endEdgeLabelLeft = elem.insert('g').attr('class', 'edgeTerminals');\n    const inner = endEdgeLabelLeft.insert('g').attr('class', 'inner');\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n\n    endEdgeLabelLeft.node().appendChild(endLabelElement);\n\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].endLeft = endEdgeLabelLeft;\n    setTerminalWidth(fo, edge.endLabelLeft);\n  }\n  if (edge.endLabelRight) {\n    // Create the actual text element\n    const endLabelElement = createLabel(edge.endLabelRight, edge.labelStyle);\n    const endEdgeLabelRight = elem.insert('g').attr('class', 'edgeTerminals');\n    const inner = endEdgeLabelRight.insert('g').attr('class', 'inner');\n\n    fo = inner.node().appendChild(endLabelElement);\n    const slBox = endLabelElement.getBBox();\n    inner.attr('transform', 'translate(' + -slBox.width / 2 + ', ' + -slBox.height / 2 + ')');\n\n    endEdgeLabelRight.node().appendChild(endLabelElement);\n    if (!terminalLabels[edge.id]) {\n      terminalLabels[edge.id] = {};\n    }\n    terminalLabels[edge.id].endRight = endEdgeLabelRight;\n    setTerminalWidth(fo, edge.endLabelRight);\n  }\n  return labelElement;\n};\n\n/**\n * @param {any} fo\n * @param {any} value\n */\nfunction setTerminalWidth(fo, value) {\n  if (getConfig().flowchart.htmlLabels && fo) {\n    fo.style.width = value.length * 9 + 'px';\n    fo.style.height = '12px';\n  }\n}\n\nexport const positionEdgeLabel = (edge, paths) => {\n  log.info('Moving label abc78 ', edge.id, edge.label, edgeLabels[edge.id]);\n  let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  if (edge.label) {\n    const el = edgeLabels[edge.id];\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      //   // debugger;\n      const pos = utils.calcLabelPosition(path);\n      log.info(\n        'Moving label ' + edge.label + ' from (',\n        x,\n        ',',\n        y,\n        ') to (',\n        pos.x,\n        ',',\n        pos.y,\n        ') abc78'\n      );\n      if (paths.updatedPath) {\n        x = pos.x;\n        y = pos.y;\n      }\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n\n  //let path = paths.updatedPath ? paths.updatedPath : paths.originalPath;\n  if (edge.startLabelLeft) {\n    const el = terminalLabels[edge.id].startLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      // debugger;\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeStart ? 10 : 0, 'start_left', path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n  if (edge.startLabelRight) {\n    const el = terminalLabels[edge.id].startRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      // debugger;\n      const pos = utils.calcTerminalLabelPosition(\n        edge.arrowTypeStart ? 10 : 0,\n        'start_right',\n        path\n      );\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n  if (edge.endLabelLeft) {\n    const el = terminalLabels[edge.id].endLeft;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      // debugger;\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, 'end_left', path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n  if (edge.endLabelRight) {\n    const el = terminalLabels[edge.id].endRight;\n    let x = edge.x;\n    let y = edge.y;\n    if (path) {\n      // debugger;\n      const pos = utils.calcTerminalLabelPosition(edge.arrowTypeEnd ? 10 : 0, 'end_right', path);\n      x = pos.x;\n      y = pos.y;\n    }\n    el.attr('transform', 'translate(' + x + ', ' + y + ')');\n  }\n};\n\nconst outsideNode = (node, point) => {\n  // log.warn('Checking bounds ', node, point);\n  const x = node.x;\n  const y = node.y;\n  const dx = Math.abs(point.x - x);\n  const dy = Math.abs(point.y - y);\n  const w = node.width / 2;\n  const h = node.height / 2;\n  if (dx >= w || dy >= h) {\n    return true;\n  }\n  return false;\n};\n\nexport const intersection = (node, outsidePoint, insidePoint) => {\n  log.warn(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);\n  const x = node.x;\n  const y = node.y;\n\n  const dx = Math.abs(x - insidePoint.x);\n  // const dy = Math.abs(y - insidePoint.y);\n  const w = node.width / 2;\n  let r = insidePoint.x < outsidePoint.x ? w - dx : w + dx;\n  const h = node.height / 2;\n\n  // const edges = {\n  //   x1: x - w,\n  //   x2: x + w,\n  //   y1: y - h,\n  //   y2: y + h\n  // };\n\n  // if (\n  //   outsidePoint.x === edges.x1 ||\n  //   outsidePoint.x === edges.x2 ||\n  //   outsidePoint.y === edges.y1 ||\n  //   outsidePoint.y === edges.y2\n  // ) {\n  //   log.warn('abc89 calc equals on edge', outsidePoint, edges);\n  //   return outsidePoint;\n  // }\n\n  const Q = Math.abs(outsidePoint.y - insidePoint.y);\n  const R = Math.abs(outsidePoint.x - insidePoint.x);\n  // log.warn();\n  if (Math.abs(y - outsidePoint.y) * w > Math.abs(x - outsidePoint.x) * h) {\n    // Intersection is top or bottom of rect.\n    // let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    let q = insidePoint.y < outsidePoint.y ? outsidePoint.y - h - y : y - h - outsidePoint.y;\n    r = (R * q) / Q;\n    const res = {\n      x: insidePoint.x < outsidePoint.x ? insidePoint.x + r : insidePoint.x - R + r,\n      y: insidePoint.y < outsidePoint.y ? insidePoint.y + Q - q : insidePoint.y - Q + q,\n    };\n\n    if (r === 0) {\n      res.x = outsidePoint.x;\n      res.y = outsidePoint.y;\n    }\n    if (R === 0) {\n      res.x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      res.y = outsidePoint.y;\n    }\n\n    log.warn(`abc89 topp/bott calc, Q ${Q}, q ${q}, R ${R}, r ${r}`, res);\n\n    return res;\n  } else {\n    // Intersection onn sides of rect\n    if (insidePoint.x < outsidePoint.x) {\n      r = outsidePoint.x - w - x;\n    } else {\n      // r = outsidePoint.x - w - x;\n      r = x - w - outsidePoint.x;\n    }\n    let q = (Q * r) / R;\n    //  OK let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x + dx - w;\n    // OK let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : outsidePoint.x + r;\n    let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : insidePoint.x - R + r;\n    // let _x = insidePoint.x < outsidePoint.x ? insidePoint.x + R - r : outsidePoint.x + r;\n    let _y = insidePoint.y < outsidePoint.y ? insidePoint.y + q : insidePoint.y - q;\n    log.warn(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`, { _x, _y });\n    if (r === 0) {\n      _x = outsidePoint.x;\n      _y = outsidePoint.y;\n    }\n    if (R === 0) {\n      _x = outsidePoint.x;\n    }\n    if (Q === 0) {\n      _y = outsidePoint.y;\n    }\n\n    return { x: _x, y: _y };\n  }\n};\n/**\n * This function will page a path and node where the last point(s) in the path is inside the node\n * and return an update path ending by the border of the node.\n *\n * @param {Array} _points\n * @param {any} boundryNode\n * @returns {Array} Points\n */\nconst cutPathAtIntersect = (_points, boundryNode) => {\n  log.warn('abc88 cutPathAtIntersect', _points, boundryNode);\n  let points = [];\n  let lastPointOutside = _points[0];\n  let isInside = false;\n  _points.forEach((point) => {\n    // const node = clusterDb[edge.toCluster].node;\n    log.info('abc88 checking point', point, boundryNode);\n\n    // check if point is inside the boundary rect\n    if (!outsideNode(boundryNode, point) && !isInside) {\n      // First point inside the rect found\n      // Calc the intersection coord between the point anf the last point outside the rect\n      const inter = intersection(boundryNode, lastPointOutside, point);\n      log.warn('abc88 inside', point, lastPointOutside, inter);\n      log.warn('abc88 intersection', inter);\n\n      // // Check case where the intersection is the same as the last point\n      let pointPresent = false;\n      points.forEach((p) => {\n        pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\n      });\n      // // if (!pointPresent) {\n      if (!points.some((e) => e.x === inter.x && e.y === inter.y)) {\n        points.push(inter);\n      } else {\n        log.warn('abc88 no intersect', inter, points);\n      }\n      // points.push(inter);\n      isInside = true;\n    } else {\n      // Outside\n      log.warn('abc88 outside', point, lastPointOutside);\n      lastPointOutside = point;\n      // points.push(point);\n      if (!isInside) {\n        points.push(point);\n      }\n    }\n  });\n  log.warn('abc88 returning points', points);\n  return points;\n};\n\n//(edgePaths, e, edge, clusterDb, diagramtype, graph)\nexport const insertEdge = function (elem, e, edge, clusterDb, diagramType, graph) {\n  let points = edge.points;\n  let pointsHasChanged = false;\n  const tail = graph.node(e.v);\n  var head = graph.node(e.w);\n\n  log.info('abc88 InsertEdge: ', edge);\n  if (head.intersect && tail.intersect) {\n    points = points.slice(1, edge.points.length - 1);\n    points.unshift(tail.intersect(points[0]));\n    log.info(\n      'Last point',\n      points[points.length - 1],\n      head,\n      head.intersect(points[points.length - 1])\n    );\n    points.push(head.intersect(points[points.length - 1]));\n  }\n  if (edge.toCluster) {\n    log.info('to cluster abc88', clusterDb[edge.toCluster]);\n    points = cutPathAtIntersect(edge.points, clusterDb[edge.toCluster].node);\n    // log.trace('edge', edge);\n    // points = [];\n    // let lastPointOutside; // = edge.points[0];\n    // let isInside = false;\n    // edge.points.forEach(point => {\n    //   const node = clusterDb[edge.toCluster].node;\n    //   log.warn('checking from', edge.fromCluster, point, node);\n\n    //   if (!outsideNode(node, point) && !isInside) {\n    //     log.trace('inside', edge.toCluster, point, lastPointOutside);\n\n    //     // First point inside the rect\n    //     const inter = intersection(node, lastPointOutside, point);\n\n    //     let pointPresent = false;\n    //     points.forEach(p => {\n    //       pointPresent = pointPresent || (p.x === inter.x && p.y === inter.y);\n    //     });\n    //     // if (!pointPresent) {\n    //     if (!points.find(e => e.x === inter.x && e.y === inter.y)) {\n    //       points.push(inter);\n    //     } else {\n    //       log.warn('no intersect', inter, points);\n    //     }\n    //     isInside = true;\n    // } else {\n    //   // outside\n    //   lastPointOutside = point;\n    //   if (!isInside) points.push(point);\n    // }\n    // });\n    pointsHasChanged = true;\n  }\n\n  if (edge.fromCluster) {\n    log.info('from cluster abc88', clusterDb[edge.fromCluster]);\n    points = cutPathAtIntersect(points.reverse(), clusterDb[edge.fromCluster].node).reverse();\n\n    pointsHasChanged = true;\n  }\n\n  // The data for our line\n  const lineData = points.filter((p) => !Number.isNaN(p.y));\n\n  // This is the accessor function we talked about above\n  let curve;\n  // Currently only flowcharts get the curve from the settings, perhaps this should\n  // be expanded to a common setting? Restricting it for now in order not to cause side-effects that\n  // have not been thought through\n  if (diagramType === 'graph' || diagramType === 'flowchart') {\n    curve = edge.curve || curveBasis;\n  } else {\n    curve = curveBasis;\n  }\n  // curve = curveLinear;\n  const lineFunction = line()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    })\n    .curve(curve);\n\n  // Construct stroke classes based on properties\n  let strokeClasses;\n  switch (edge.thickness) {\n    case 'normal':\n      strokeClasses = 'edge-thickness-normal';\n      break;\n    case 'thick':\n      strokeClasses = 'edge-thickness-thick';\n      break;\n    case 'invisible':\n      strokeClasses = 'edge-thickness-thick';\n      break;\n    default:\n      strokeClasses = '';\n  }\n  switch (edge.pattern) {\n    case 'solid':\n      strokeClasses += ' edge-pattern-solid';\n      break;\n    case 'dotted':\n      strokeClasses += ' edge-pattern-dotted';\n      break;\n    case 'dashed':\n      strokeClasses += ' edge-pattern-dashed';\n      break;\n  }\n\n  const svgPath = elem\n    .append('path')\n    .attr('d', lineFunction(lineData))\n    .attr('id', edge.id)\n    .attr('class', ' ' + strokeClasses + (edge.classes ? ' ' + edge.classes : ''))\n    .attr('style', edge.style);\n\n  // DEBUG code, adds a red circle at each edge coordinate\n  // edge.points.forEach((point) => {\n  //   elem\n  //     .append('circle')\n  //     .style('stroke', 'red')\n  //     .style('fill', 'red')\n  //     .attr('r', 1)\n  //     .attr('cx', point.x)\n  //     .attr('cy', point.y);\n  // });\n\n  let url = '';\n  // // TODO: Can we load this config only from the rendered graph type?\n  if (getConfig().flowchart.arrowMarkerAbsolute || getConfig().state.arrowMarkerAbsolute) {\n    url =\n      window.location.protocol +\n      '//' +\n      window.location.host +\n      window.location.pathname +\n      window.location.search;\n    url = url.replace(/\\(/g, '\\\\(');\n    url = url.replace(/\\)/g, '\\\\)');\n  }\n  log.info('arrowTypeStart', edge.arrowTypeStart);\n  log.info('arrowTypeEnd', edge.arrowTypeEnd);\n\n  switch (edge.arrowTypeStart) {\n    case 'arrow_cross':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-crossStart' + ')');\n      break;\n    case 'arrow_point':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-pointStart' + ')');\n      break;\n    case 'arrow_barb':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-barbStart' + ')');\n      break;\n    case 'arrow_circle':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-circleStart' + ')');\n      break;\n    case 'aggregation':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-aggregationStart' + ')');\n      break;\n    case 'extension':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-extensionStart' + ')');\n      break;\n    case 'composition':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-compositionStart' + ')');\n      break;\n    case 'dependency':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-dependencyStart' + ')');\n      break;\n    case 'lollipop':\n      svgPath.attr('marker-start', 'url(' + url + '#' + diagramType + '-lollipopStart' + ')');\n      break;\n    default:\n  }\n  switch (edge.arrowTypeEnd) {\n    case 'arrow_cross':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-crossEnd' + ')');\n      break;\n    case 'arrow_point':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-pointEnd' + ')');\n      break;\n    case 'arrow_barb':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-barbEnd' + ')');\n      break;\n    case 'arrow_circle':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-circleEnd' + ')');\n      break;\n    case 'aggregation':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-aggregationEnd' + ')');\n      break;\n    case 'extension':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-extensionEnd' + ')');\n      break;\n    case 'composition':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-compositionEnd' + ')');\n      break;\n    case 'dependency':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-dependencyEnd' + ')');\n      break;\n    case 'lollipop':\n      svgPath.attr('marker-end', 'url(' + url + '#' + diagramType + '-lollipopEnd' + ')');\n      break;\n    default:\n  }\n  let paths = {};\n  if (pointsHasChanged) {\n    paths.updatedPath = points;\n  }\n  paths.originalPath = edge.points;\n  return paths;\n};\n"],"names":["circle","createLabel","point","intersect","node","ellipse","polygon","rect","choice","diffX","note","clear"],"version":3,"file":"flowDiagram-42bb1e4d.77f6cb88.js.map","sourceRoot":"/__parcel_source_root/"}